import requests

# Ruta del archivo de palabras
wordlist_file = 'Deep-Travelsal.txt'
# URL base con marcador FUZZ
url_template = 'http://127.0.0.1:8888/FUZZ'

def read_wordlist(file_path):
    """Lee el archivo de palabras y devuelve una lista de palabras."""
    try:
        with open(file_path, 'r') as file:
            return [line.strip() for line in file if line.strip()]
    except FileNotFoundError:
        print(f"El archivo {file_path} no fue encontrado.")
        return []

def fuzz_url(wordlist, url_template):
    """Realiza fuzzing en la URL base con cada palabra de la lista."""
    for word in wordlist:
        # Reemplaza FUZZ en la URL con la palabra actual
        url = url_template.replace('FUZZ', word)
        try:
            # Realiza la solicitud GET
            response = requests.get(url)
            # Imprime la URL y el estado de la respuesta
            print(f"URL: {url}")
            print(f"Status Code: {response.status_code}")
            print(f"Response Length: {len(response.text)}")
            # Imprime el contenido de la respuesta
            print(response.text)
            print("-" * 80)
        except requests.RequestException as e:
            print(f"Request failed for {url}: {e}")

def main():
    # Leer palabras del archivo
    wordlist = read_wordlist(wordlist_file)
    if wordlist:
        # Realizar el fuzzing en la URL
        fuzz_url(wordlist, url_template)
    else:
        print("La lista de palabras está vacía o el archivo no fue encontrado.")

if __name__ == "__main__":
    main()
